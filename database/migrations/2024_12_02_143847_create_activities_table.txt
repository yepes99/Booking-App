<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('activities', function (Blueprint $table) {
            $table->id(); // ID único de la actividad
            $table->foreignId('user_id')->constrained()->onDelete('cascade'); // Relacionada con el usuario que realizó la actividad
            $table->enum('action_type', ['reservation', 'payment', 'cancellation', 'check-in', 'check-out']); // Tipo de acción (ej. 'reserva', 'pago', 'cancelación')
            $table->text('description')->nullable(); // Descripción detallada de la actividad
            $table->timestamp('performed_at'); // Fecha y hora en que se realizó la actividad
            $table->json('additional_data')->nullable(); // Datos adicionales sobre la actividad
            $table->string('company_name')->nullable(); // Nombre de la empresa que realizó la actividad (si aplica)
            $table->string('company_address')->nullable(); // Dirección de la empresa
            $table->string('city')->nullable(); // Ciudad donde se realizó la actividad
            $table->string('country')->nullable(); // País donde se realizó la actividad
            $table->string('site_name')->nullable(); // Nombre del sitio o plataforma donde se realizó la actividad
            $table->string('site_url')->nullable(); // URL del sitio o plataforma
            $table->string('device_type')->nullable(); // Tipo de dispositivo usado (web, móvil, etc.)
            $table->enum('status', ['active', 'expired', 'terminated'])->default('active'); // Estado de la actividad
            $table->unsignedInteger('number_of_participants')->nullable(); // Número de personas que realizaron la actividad
            $table->timestamps(); // Fechas de creación y actualización de la actividad
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('activities');
    }
};
